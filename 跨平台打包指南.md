# åœ¨Linuxä¸Šæ‰“åŒ…Windows EXEçš„å®Œæ•´æŒ‡å—

## ğŸ¯ é—®é¢˜
å¦‚ä½•åœ¨Linuxç¯å¢ƒä¸‹æ‰“åŒ…å‡ºWindowsçš„.exeå¯æ‰§è¡Œæ–‡ä»¶ï¼Ÿ

## âœ… ç­”æ¡ˆï¼šæœ‰3ç§æ–¹æ³•

---

## æ–¹æ³•1ï¼šä½¿ç”¨ Wine + PyInstaller â­â­â­

### ä¼˜ç‚¹
- å®Œå…¨åœ¨æœ¬åœ°å®Œæˆ
- ä¸éœ€è¦é¢å¤–æœåŠ¡

### ç¼ºç‚¹
- é…ç½®è¾ƒå¤æ‚
- å¯èƒ½é‡åˆ°å…¼å®¹æ€§é—®é¢˜

### æ­¥éª¤

#### 1. å®‰è£… Wine
```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install wine wine64 winetricks

# Fedora
sudo dnf install wine

# Arch
sudo pacman -S wine
```

#### 2. åœ¨Wineä¸­å®‰è£…Windowsç‰ˆPython
```bash
# ä¸‹è½½Python Windowså®‰è£…åŒ…
wget https://www.python.org/ftp/python/3.9.13/python-3.9.13-amd64.exe

# ä½¿ç”¨Wineå®‰è£…
wine python-3.9.13-amd64.exe

# æŒ‰ç…§å®‰è£…å‘å¯¼ï¼Œè®°ä½å®‰è£…è·¯å¾„ï¼ˆé€šå¸¸æ˜¯ C:\Python39ï¼‰
```

#### 3. å®‰è£…ä¾èµ–å’ŒPyInstaller
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd ParticleGame

# ä½¿ç”¨Wineçš„Pythonå®‰è£…åŒ…
wine ~/.wine/drive_c/Python39/python.exe -m pip install pyinstaller
wine ~/.wine/drive_c/Python39/python.exe -m pip install -r requirements.txt
```

#### 4. æ‰“åŒ…
```bash
# è¿è¡Œæ‰“åŒ…è„šæœ¬
./build_windows_on_linux.sh

# æˆ–æ‰‹åŠ¨æ‰§è¡Œ
wine ~/.wine/drive_c/Python39/python.exe -m PyInstaller \
    --onefile --name ParticleGame particle_game.py
```

#### 5. è·å–EXE
```bash
# EXEæ–‡ä»¶ä½ç½®
ls -lh dist/ParticleGame.exe
```

---

## æ–¹æ³•2ï¼šä½¿ç”¨ Docker â­â­â­â­â­ï¼ˆæœ€æ¨èï¼‰

### ä¼˜ç‚¹
- âœ… æœ€ç¨³å®šå¯é 
- âœ… ç¯å¢ƒéš”ç¦»ï¼Œä¸ä¼šæ±¡æŸ“ç³»ç»Ÿ
- âœ… å¯é‡å¤æ€§å¼º
- âœ… ä¸€æ¬¡é…ç½®ï¼Œå¤„å¤„ä½¿ç”¨

### ç¼ºç‚¹
- éœ€è¦å®‰è£…Dockerï¼ˆä½†å¾ˆç®€å•ï¼‰

### æ­¥éª¤

#### 1. å®‰è£… Docker
```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install docker.io
sudo systemctl start docker
sudo systemctl enable docker

# æ·»åŠ å½“å‰ç”¨æˆ·åˆ°dockerç»„ï¼ˆé¿å…æ¯æ¬¡sudoï¼‰
sudo usermod -aG docker $USER
# æ³¨é”€åé‡æ–°ç™»å½•ç”Ÿæ•ˆ
```

#### 2. ä½¿ç”¨Dockeræ‰“åŒ…
```bash
cd ParticleGame

# è¿è¡ŒDockeræ‰“åŒ…è„šæœ¬
./build_with_docker.sh
```

#### 3. å®Œæˆï¼
```bash
# EXEæ–‡ä»¶å·²ç»åœ¨å½“å‰ç›®å½•
ls -lh ParticleGame.exe
```

### Dockeræ–¹æ³•çš„åŸç†
```bash
# ä½¿ç”¨é¢„é…ç½®çš„Windowsäº¤å‰ç¼–è¯‘ç¯å¢ƒ
docker run -v "$(pwd):/src" cdrx/pyinstaller-windows \
    "pip install -r requirements.txt && \
     pyinstaller --onefile --name ParticleGame particle_game.py"
```

---

## æ–¹æ³•3ï¼šä½¿ç”¨ GitHub Actions â­â­â­â­â­ï¼ˆæœ€æ–¹ä¾¿ï¼‰

### ä¼˜ç‚¹
- âœ… å®Œå…¨è‡ªåŠ¨åŒ–
- âœ… åŒæ—¶ç”Ÿæˆ Windowsã€Linuxã€Mac ä¸‰ä¸ªå¹³å°çš„å¯æ‰§è¡Œæ–‡ä»¶
- âœ… æ— éœ€æœ¬åœ°é…ç½®
- âœ… å…è´¹ä½¿ç”¨

### ç¼ºç‚¹
- éœ€è¦GitHubè´¦å·
- éœ€è¦ä¸Šä¼ ä»£ç åˆ°GitHub

### æ­¥éª¤

#### 1. åˆ›å»ºGitHubä»“åº“
```bash
cd ParticleGame

# åˆå§‹åŒ–Git
git init
git add .
git commit -m "Initial commit"

# æ·»åŠ è¿œç¨‹ä»“åº“ï¼ˆæ›¿æ¢ä¸ºä½ çš„ä»“åº“åœ°å€ï¼‰
git remote add origin https://github.com/YOUR_USERNAME/ParticleGame.git
git push -u origin main
```

#### 2. GitHubä¼šè‡ªåŠ¨è¿è¡Œå·¥ä½œæµ
å·²ç»åˆ›å»ºäº†é…ç½®æ–‡ä»¶ï¼š`.github/workflows/build.yml`

#### 3. åˆ›å»ºReleaseè§¦å‘æ„å»º
```bash
# æ‰“æ ‡ç­¾
git tag v1.0
git push origin v1.0

# GitHub Actionsä¼šè‡ªåŠ¨ï¼š
# 1. åœ¨Windowsæœºå™¨ä¸Šæ‰“åŒ… .exe
# 2. åœ¨Linuxæœºå™¨ä¸Šæ‰“åŒ…äºŒè¿›åˆ¶æ–‡ä»¶
# 3. åœ¨Macæœºå™¨ä¸Šæ‰“åŒ…åº”ç”¨
# 4. åˆ›å»ºReleaseå¹¶ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶
```

#### 4. ä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶
- è®¿é—®GitHubä»“åº“çš„ Releases é¡µé¢
- ä¸‹è½½ä¸‰ä¸ªå¹³å°çš„å¯æ‰§è¡Œæ–‡ä»¶

---

## ğŸ“Š æ–¹æ³•å¯¹æ¯”

| æ–¹æ³• | éš¾åº¦ | å¯é æ€§ | é€Ÿåº¦ | æ¨èåº¦ |
|------|------|--------|------|--------|
| Wine | â­â­â­ | â­â­â­ | â­â­â­ | â­â­â­ |
| Docker | â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ |
| GitHub Actions | â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èDockeræ–¹æ³•ï¼‰

### å¦‚æœè¿˜æ²¡å®‰è£…Dockerï¼š
```bash
# å®‰è£…Docker
sudo apt-get install docker.io

# æ·»åŠ å½“å‰ç”¨æˆ·åˆ°dockerç»„
sudo usermod -aG docker $USER

# æ³¨é”€é‡æ–°ç™»å½•
```

### æ‰“åŒ…Windows EXEï¼š
```bash
cd ParticleGame
./build_with_docker.sh

# å®Œæˆï¼ParticleGame.exe åœ¨å½“å‰ç›®å½•
```

---

## ğŸ¯ æœ€ä½³å®è·µå»ºè®®

### æƒ…å†µ1ï¼šåªéœ€è¦æ‰“åŒ…ä¸€æ¬¡
**æ¨èï¼šDockeræ–¹æ³•**
- å¿«é€Ÿã€å¯é 
- ä¸€ä¸ªå‘½ä»¤æå®š

### æƒ…å†µ2ï¼šéœ€è¦é¢‘ç¹æ‰“åŒ…
**æ¨èï¼šGitHub Actions**
- å®Œå…¨è‡ªåŠ¨åŒ–
- åŒæ—¶ç”Ÿæˆä¸‰ä¸ªå¹³å°

### æƒ…å†µ3ï¼šæƒ³å­¦ä¹ è·¨å¹³å°ç¼–è¯‘
**æ¨èï¼šWineæ–¹æ³•**
- äº†è§£åº•å±‚åŸç†
- æ›´å¤šæ§åˆ¶æƒ

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. opencv-pythonä¾èµ–é—®é¢˜
OpenCVåœ¨æ‰“åŒ…æ—¶å¯èƒ½ä¼šå¾ˆå¤§ï¼ˆ200MB+ï¼‰ï¼Œè¿™æ˜¯æ­£å¸¸çš„ã€‚

### 2. MediaPipeå…¼å®¹æ€§
MediaPipeåœ¨Windowsä¸Šæ‰“åŒ…å¯èƒ½éœ€è¦é¢å¤–é…ç½®ï¼Œå»ºè®®ä½¿ç”¨Dockeræ–¹æ³•ã€‚

### 3. æµ‹è¯•æ‰“åŒ…ç»“æœ
æ‰“åŒ…å®Œæˆåï¼Œæœ€å¥½åœ¨çœŸå®çš„Windowsæœºå™¨ä¸Šæµ‹è¯•ã€‚

### 4. å‡å°EXEä½“ç§¯
```bash
# ä½¿ç”¨UPXå‹ç¼©ï¼ˆéœ€è¦å…ˆå®‰è£…UPXï¼‰
pyinstaller --onefile --upx-dir=/usr/bin --name ParticleGame particle_game.py
```

---

## ğŸ“ æ–‡ä»¶æ¸…å•

ä½ çš„ParticleGameæ–‡ä»¶å¤¹ç°åœ¨åŒ…å«ï¼š

```
ParticleGame/
â”œâ”€â”€ build_windows_on_linux.sh     # Wineæ‰“åŒ…è„šæœ¬
â”œâ”€â”€ build_with_docker.sh          # Dockeræ‰“åŒ…è„šæœ¬
â”œâ”€â”€ Dockerfile.windows            # Dockeré…ç½®
â””â”€â”€ .github/workflows/build.yml   # GitHub Actionsé…ç½®
```

---

## ğŸ‰ æ€»ç»“

**æœ€ç®€å•çš„æ–¹æ³•ï¼š**
```bash
# 1. å®‰è£…Dockerï¼ˆä¸€æ¬¡æ€§ï¼‰
sudo apt-get install docker.io

# 2. æ‰“åŒ…
cd ParticleGame
./build_with_docker.sh

# 3. å®Œæˆï¼
```

**æ–‡ä»¶ä½ç½®ï¼š** `ParticleGame.exe` åœ¨å½“å‰ç›®å½•

**å‘é€ç»™Windowsç”¨æˆ·ï¼š** ä»–ä»¬åŒå‡»å³å¯è¿è¡Œï¼

---

æ›´æ–°æ—¶é—´ï¼š2026-01-13
